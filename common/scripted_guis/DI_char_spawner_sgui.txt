### Councillors ###
DI_martial_councillor = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}

		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 6
							fertility = 6
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = generate
							martial = 30
							prowess = 30
							diplomacy = 16
							stewardship = 16
							intrigue = 16
							learning = 16
							trait = education_martial_4
							trait = content
							trait = strong
							random_traits = yes
							save_scope_as = new_councillor
						}

						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_councillor = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_councillor = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_councillor = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
						if = {
							limit = {
								exists = cp:councillor_marshal
							}
							fire_councillor = cp:councillor_marshal
						}
						assign_councillor_type = {
							type = councillor_marshal
							target = scope:new_councillor
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 6
						fertility = 6
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = generate
						martial = 30
						prowess = 30
						diplomacy = 16
						stewardship = 16
						intrigue = 16
						learning = 16
						trait = education_martial_4
						trait = content
						trait = strong
						random_traits = yes
						save_scope_as = new_councillor
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_councillor = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_councillor = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_councillor = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
					if = {
						limit = {
							exists = cp:councillor_marshal
						}
						fire_councillor = cp:councillor_marshal
					}
					assign_councillor_type = {
						type = councillor_marshal
						target = scope:new_councillor
					}
				}
			}
		}
	}
}

DI_diplomacy_councillor = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 6
							fertility = 6
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = generate
							martial = 16
							prowess = 16
							diplomacy = 30
							stewardship = 30
							intrigue = 16
							learning = 16
							trait = education_diplomacy_4
							trait = content
							random_traits = yes
							save_scope_as = new_councillor
						}

						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_councillor = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_councillor = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_councillor = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
						if = {
							limit = {
								exists = cp:councillor_chancellor
							}
							fire_councillor = cp:councillor_chancellor
						}
						assign_councillor_type = {
							type = councillor_chancellor
							target = scope:new_councillor
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 6
						fertility = 6
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = generate
						martial = 16
						prowess = 16
						diplomacy = 30
						stewardship = 30
						intrigue = 16
						learning = 16
						trait = education_diplomacy_4
						trait = content
						random_traits = yes
						save_scope_as = new_councillor
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_councillor = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_councillor = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_councillor = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
					if = {
						limit = {
							exists = cp:councillor_chancellor
						}
						fire_councillor = cp:councillor_chancellor
					}
					assign_councillor_type = {
						type = councillor_chancellor
						target = scope:new_councillor
					}
				}
			}
		}
	}
}

DI_stewardship_councillor = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 6
							fertility = 6
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = generate
							martial = 16
							prowess = 16
							diplomacy = 25
							stewardship = 30
							intrigue = 16
							learning = 30
							trait = education_stewardship_4
							trait = content
							random_traits = yes
							save_scope_as = new_councillor
						}

						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_councillor = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_councillor = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_councillor = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
								}
							}
						}
						if = {
							limit = {
								exists = cp:councillor_steward
							}
							fire_councillor = cp:councillor_steward
						}
						assign_councillor_type = {
							type = councillor_steward
							target = scope:new_councillor
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 6
						fertility = 6
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = generate
						martial = 16
						prowess = 16
						diplomacy = 25
						stewardship = 30
						intrigue = 16
						learning = 30
						trait = education_stewardship_4
						trait = content
						random_traits = yes
						save_scope_as = new_councillor
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_councillor = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_councillor = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_councillor = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
					if = {
						limit = {
							exists = cp:councillor_steward
						}
						fire_councillor = cp:councillor_steward
					}
					assign_councillor_type = {
						type = councillor_steward
						target = scope:new_councillor
					}
				}
			}
		}
	}
}

DI_intrigue_councillor = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 6
							fertility = 6
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = generate
							martial = 16
							prowess = 16
							diplomacy = 25
							stewardship = 20
							intrigue = 30
							learning = 16
							trait = education_intrigue_4
							trait = content
							random_traits = yes
							save_scope_as = new_councillor
						}

						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_councillor = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_councillor = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_councillor = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
								}
							}
						}
						if = {
							limit = {
								exists = cp:councillor_spymaster
							}
							fire_councillor = cp:councillor_spymaster
						}
						assign_councillor_type = {
							type = councillor_spymaster
							target = scope:new_councillor
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 6
						fertility = 6
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = generate
						martial = 16
						prowess = 16
						diplomacy = 25
						stewardship = 20
						intrigue = 30
						learning = 16
						trait = education_intrigue_4
						trait = content
						random_traits = yes
						save_scope_as = new_councillor
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_councillor = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_councillor = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_councillor = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
					if = {
						limit = {
							exists = cp:councillor_spymaster
						}
						fire_councillor = cp:councillor_spymaster
					}
					assign_councillor_type = {
						type = councillor_spymaster
						target = scope:new_councillor
					}
				}
			}
		}
	}
}

DI_learning_councillor = {
	scope = character

	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target
					
						if = {
							limit = {
								NOR = {
									faith = {
										has_doctrine_parameter = clerical_appointment_head_of_faith
										has_doctrine_parameter = clerical_appointment_fixed
									}
								}
							}

							create_character = {
								age = global_var:age_var
								gender_female_chance = global_var:gender_var
								health = 6
								fertility = 6
								employer = scope:target
								faith = scope:target.faith
								culture = scope:target.culture
								dynasty = generate
								martial = 16
								prowess = 16
								diplomacy = 25
								stewardship = 25
								intrigue = 16
								learning = 30
								trait = education_learning_4
								trait = content
								random_traits = yes
								save_scope_as = new_councillor
							}
							if = {
								limit = {
									exists = cp:councillor_court_chaplain
								}
								fire_councillor = cp:councillor_court_chaplain
							}
							assign_councillor_type = {
								type = councillor_court_chaplain
								target = scope:new_councillor
							}
						}
						else_if = {
							limit = {
								exists = cp:councillor_court_chaplain
								cp:councillor_court_chaplain = {
									NOT = { has_character_flag = upgraded_chaplain }
								}
							}
							cp:councillor_court_chaplain = {
								custom_tooltip = improved_stats_effect_TT
								hidden_effect = {
									save_scope_as = new_councillor
									remove_health_conflict_effect = yes
									remove_education_traits_effect = yes
									clear_personality_traits_effect = yes
									add_martial_skill = 16
									add_prowess_skill = 16
									add_diplomacy_skill = 25
									add_stewardship_skill = 25
									add_intrigue_skill = 16
									add_learning_skill = 30
									add_trait = education_learning_4
									add_trait = content
									add_trait = trusting
									add_trait = calm
									add_character_flag = upgraded_chaplain
								}
							}
						}

						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_councillor = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_councillor = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_councillor = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target

					if = {
						limit = {
							NOR = {
								faith = {
									has_doctrine_parameter = clerical_appointment_head_of_faith
									has_doctrine_parameter = clerical_appointment_fixed
								}
							}
						}
						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 6
							fertility = 6
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = generate
							martial = 16
							prowess = 16
							diplomacy = 25
							stewardship = 25
							intrigue = 16
							learning = 30
							trait = education_learning_4
							trait = content
							random_traits = yes
							save_scope_as = new_councillor
						}
						if = {
							limit = {
								exists = cp:councillor_court_chaplain
							}
							fire_councillor = cp:councillor_court_chaplain
						}
						assign_councillor_type = {
							type = councillor_court_chaplain
							target = scope:new_councillor
						}
					}
					else_if = {
						limit = {
							exists = cp:councillor_court_chaplain
							cp:councillor_court_chaplain = {
								NOT = { has_character_flag = upgraded_chaplain }
							}
						}
						cp:councillor_court_chaplain = {
							custom_tooltip = improved_stats_effect_TT
							hidden_effect = {
								save_scope_as = new_councillor
								remove_health_conflict_effect = yes
								remove_education_traits_effect = yes
								clear_personality_traits_effect = yes
								add_martial_skill = 16
								add_prowess_skill = 16
								add_diplomacy_skill = 25
								add_stewardship_skill = 25
								add_intrigue_skill = 16
								add_learning_skill = 30
								add_trait = education_learning_4
								add_trait = content
								add_trait = trusting
								add_trait = calm
								add_character_flag = upgraded_chaplain
							}
						}
					}
					
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_councillor = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_councillor = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_councillor = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

### COUNCILLOR MENU CONTINUED MISC ###
DI_knight = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = generate
							martial = 25
							prowess = 50
							diplomacy = { 5 12 }
							stewardship = { 5 8 }
							intrigue = { 5 12 }
							learning = { 5 7 }
							trait = education_martial_4
							trait = lifestyle_blademaster
							random_traits = yes
							after_creation = {
								add_trait_xp = { trait = lifestyle_blademaster value = 100 }
								add_perk = stalwart_leader_perk
							}
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = generate
						martial = 25
						prowess = 50
						diplomacy = { 5 12 }
						stewardship = { 5 8 }
						intrigue = { 5 12 }
						learning = { 5 7 }
						trait = education_martial_4
						trait = lifestyle_blademaster
						random_traits = yes
						after_creation = {
							add_trait_xp = { trait = lifestyle_blademaster value = 100 }
							add_perk = stalwart_leader_perk
						}
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_commander = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = generate
							martial = 25
							prowess = 50
							diplomacy = { 5 12 }
							stewardship = { 5 8 }
							intrigue = { 5 12 }
							learning = { 5 7 }
							trait = education_martial_4
							trait = lifestyle_blademaster
							random_traits = yes
							after_creation = {
								add_trait_xp = { trait = lifestyle_blademaster value = 100 }
								add_perk = stalwart_leader_perk
								add_commander_traits_effect = yes
							}
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = generate
						martial = 25
						prowess = 50
						diplomacy = { 5 12 }
						stewardship = { 5 8 }
						intrigue = { 5 12 }
						learning = { 5 7 }
						trait = education_martial_4
						trait = lifestyle_blademaster
						random_traits = yes
						after_creation = {
							add_trait_xp = { trait = lifestyle_blademaster value = 100 }
							add_perk = stalwart_leader_perk
							add_commander_traits_effect = yes
						}
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

### FAMILY ###
DI_child = {
	scope = character
	
	effect = {
		save_scope_as = root_target
		
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}

		### Set father / mother gender vars
		if = {
			limit = {
				is_male = yes
			}
			set_global_variable = {
				name = father_var
				value = scope:root_target
			}
			if ={
				limit = {
					scope:root_target.primary_spouse ?= { is_female = yes }
				}
				set_global_variable = {
					name = mother_var
					value = scope:root_target.primary_spouse
				}
			}
			else = {
				set_global_variable = {
					name = mother_var
					value = no
				}
			}
		}
		else = {
			set_global_variable = {
				name = mother_var
				value = scope:root_target
			}
			if ={
				limit = {
					scope:root_target.primary_spouse ?= { is_male = yes }
				}
				set_global_variable = {
					name = father_var
					value = scope:root_target.primary_spouse
				}
			}
			else = {
				set_global_variable = {
					name = father_var
					value = no
				}
			}
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						### Set father / mother gender vars
						if = {
							limit = {
								scope:target = { is_male = yes }
							}
							set_variable = {
								name = father_var
								value = scope:target
							}
							if ={
								limit = {
									scope:target.primary_spouse ?= { is_female = yes }
								}
								set_variable = {
									name = mother_var
									value = scope:target.primary_spouse
								}
							}
							else = {
								set_variable = {
									name = mother_var
									value = no
								}
							}
						}
						else = {
							set_variable = {
								name = mother_var
								value = scope:target
							}
							if ={
								limit = {
									scope:target.primary_spouse ?= { is_male = yes }
								}
								set_variable = {
									name = father_var
									value = scope:target.primary_spouse
								}
							}
							else = {
								set_variable = {
									name = father_var
									value = no
								}
							}
						}

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty_house = scope:target.house
							father = var:father_var
							mother = var:mother_var
							martial = { 7 12 }
							prowess = { 5 12 }
							diplomacy = { 5 10 }
							stewardship = { 7 12 }
							intrigue = { 5 10 }
							learning = { 5 10 }
							random_traits = yes
							save_scope_as = new_courtier
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
						if = {
							limit = {
								global_var:count_var > 1
							}
							scope:new_courtier = {
								add_trait = twin
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty_house = scope:target.house
						father = global_var:father_var
						mother = global_var:mother_var
						martial = { 7 12 }
						prowess = { 5 12 }
						diplomacy = { 5 10 }
						stewardship = { 7 12 }
						intrigue = { 5 10 }
						learning = { 5 10 }
						random_traits = yes
						save_scope_as = new_courtier
					}
					if = {
						limit = {
							has_global_variable = DI_char_spawner_immortal
						}
						scope:new_courtier = {
							add_trait = immortal
						}
					}
					if = {
						limit = {
							has_global_variable = DI_char_spawner_100_stat_man
						}
						scope:new_courtier = {
							add_trait = 100_stat_man
						}
					}
					if = {
						limit = {
							has_global_variable = DI_char_spawner_good_traits
						}
						scope:new_courtier = {
							add_trait = loyal
							add_trait = beauty_good_3
							add_trait = intellect_good_3
							add_trait = physique_good_3
						}
					}
					if = {
						limit = {
							global_var:count_var > 1
						}
						scope:new_courtier = {
							add_trait = twin
						}
					}
				}
			}
		}
	}
}

DI_sibling = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty_house = scope:target.house
							father = scope:target.father
							mother = scope:target.mother
							martial = { 7 12 }
							prowess = { 5 12 }
							diplomacy = { 5 10 }
							stewardship = { 7 12 }
							intrigue = { 5 10 }
							learning = { 5 10 }
							random_traits = yes
							save_scope_as = new_courtier
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
						if = {
							limit = {
								global_var:count_var > 1
							}
							scope:new_courtier = {
								add_trait = twin
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty_house = scope:target.house
						father = scope:target.father
						mother = scope:target.mother
						martial = { 7 12 }
						prowess = { 5 12 }
						diplomacy = { 5 10 }
						stewardship = { 7 12 }
						intrigue = { 5 10 }
						learning = { 5 10 }
						random_traits = yes
						save_scope_as = new_courtier
					}
					if = {
						limit = {
							has_global_variable = DI_char_spawner_immortal
						}
						scope:new_courtier = {
							add_trait = immortal
						}
					}
					if = {
						limit = {
							has_global_variable = DI_char_spawner_100_stat_man
						}
						scope:new_courtier = {
							add_trait = 100_stat_man
						}
					}
					if = {
						limit = {
							has_global_variable = DI_char_spawner_good_traits
						}
						scope:new_courtier = {
							add_trait = loyal
							add_trait = beauty_good_3
							add_trait = intellect_good_3
							add_trait = physique_good_3
						}
					}
					if = {
						limit = {
							global_var:count_var > 1
						}
						scope:new_courtier = {
							add_trait = twin
						}
					}
				}
			}
		}
	}
}


### COURT ###
DI_normal_courtier = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = generate
							martial = { 5 7 }
							prowess = { 5 7 }
							diplomacy = { 5 12 }
							stewardship = { 5 8 }
							intrigue = { 5 12 }
							learning = { 5 7 }
							random_traits_list = {
								count = 1
								education_diplomacy_3 = {}
								education_diplomacy_4 = {}
								education_intrigue_3 = {}
								education_intrigue_4 = {}
							}
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = generate
						martial = { 5 7 }
						prowess = { 5 7 }
						diplomacy = { 5 12 }
						stewardship = { 5 8 }
						intrigue = { 5 12 }
						learning = { 5 7 }
						random_traits_list = {
							count = 1
							education_diplomacy_3 = {}
							education_diplomacy_4 = {}
							education_intrigue_3 = {}
							education_intrigue_4 = {}
						}
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_low_normal_courtier = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 5 12 }
							prowess = { 5 7 }
							diplomacy = { 5 7 }
							stewardship = { 5 12 }
							intrigue = { 5 7 }
							learning = { 5 7 }
							random_traits_list = {
								count = 1
								education_martial_3 = {}
								education_martial_4 = {}
								education_stewardship_3 = {}
								education_stewardship_4 = {}
							}
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 5 7 }
						prowess = { 5 7 }
						diplomacy = { 5 12 }
						stewardship = { 5 8 }
						intrigue = { 5 12 }
						learning = { 5 7 }
						random_traits_list = {
							count = 1
							education_diplomacy_3 = {}
							education_diplomacy_4 = {}
							education_intrigue_3 = {}
							education_intrigue_4 = {}
						}
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_op_courtier = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 6
							fertility = 6
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = generate
							martial = { 99 100 }
							prowess = { 99 100 }
							diplomacy = { 99 100 }
							stewardship = { 99 100 }
							intrigue = { 99 100 }
							learning = { 99 100 }
							random_traits_list = {
								count = 1
								education_diplomacy_3 = {}
								education_diplomacy_4 = {}
								education_intrigue_3 = {}
								education_intrigue_4 = {}
							}
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 6
						fertility = 6
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = generate
						martial = { 99 100 }
						prowess = { 99 100 }
						diplomacy = { 99 100 }
						stewardship = { 99 100 }
						intrigue = { 99 100 }
						learning = { 99 100 }
						random_traits_list = {
							count = 1
							education_diplomacy_3 = {}
							education_diplomacy_4 = {}
							education_intrigue_3 = {}
							education_intrigue_4 = {}
						}
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_low_op_courtier = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 6
							fertility = 6
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 99 100 }
							prowess = { 99 100 }
							diplomacy = { 99 100 }
							stewardship = { 99 100 }
							intrigue = { 99 100 }
							learning = { 99 100 }
							random_traits_list = {
								count = 1
								education_diplomacy_3 = {}
								education_diplomacy_4 = {}
								education_intrigue_3 = {}
								education_intrigue_4 = {}
							}
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 6
						fertility = 6
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 99 100 }
						prowess = { 99 100 }
						diplomacy = { 99 100 }
						stewardship = { 99 100 }
						intrigue = { 99 100 }
						learning = { 99 100 }
						random_traits_list = {
							count = 1
							education_diplomacy_3 = {}
							education_diplomacy_4 = {}
							education_intrigue_3 = {}
							education_intrigue_4 = {}
						}
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_physician = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 3 6 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 10 12 }
							random_traits_list = {
								count = 1
								education_learning_3 = {}
								education_learning_4 = {}
							}
							random_traits = yes
							trait = lifestyle_physician
							trait = lifestyle_mystic
							after_creation = {
								add_trait_xp = { trait = lifestyle_physician value = 100 }
								add_trait_xp = { trait = lifestyle_mystic value = 100 }
							}
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 3 6 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 10 12 }
						random_traits_list = {
							count = 1
							education_learning_3 = {}
							education_learning_4 = {}
						}
						random_traits = yes
						trait = lifestyle_physician
						trait = lifestyle_mystic
						after_creation = {
							add_trait_xp = { trait = lifestyle_physician value = 100 }
							add_trait_xp = { trait = lifestyle_mystic value = 100 }
						}
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_lady_in_waiting = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender = female
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 10 12 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_diplomacy_3 = {}
								education_diplomacy_4 = {}
							}
							trait = just
							trait = gregarious
							trait = honest
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender = female
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 10 12 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_diplomacy_3 = {}
							education_diplomacy_4 = {}
						}
						trait = just
						trait = gregarious
						trait = honest
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_eunuch = {
	scope = character
	
	effect = {
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender = male
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 10 12 }
							stewardship = { 3 6 }
							intrigue = { 17 20 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_diplomacy_3 = {}
								education_diplomacy_4 = {}
							}
							trait = eunuch
							trait = gregarious
							trait = honest
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender = male
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 10 12 }
						stewardship = { 3 6 }
						intrigue = { 17 20 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_diplomacy_3 = {}
							education_diplomacy_4 = {}
						}
						trait = eunuch
						trait = gregarious
						trait = honest
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_cultural_emissary = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 10 12 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_diplomacy_3 = {}
								education_diplomacy_4 = {}
							}
							trait = just
							trait = gregarious
							trait = diplomat
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 10 12 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_diplomacy_3 = {}
							education_diplomacy_4 = {}
						}
						trait = just
						trait = gregarious
						trait = diplomat
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_keeper_of_swans = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 3 6 }
							stewardship = { 10 12 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_stewardship_3 = {}
								education_stewardship_4 = {}
							}
							trait = just
							trait = gregarious
							trait = lifestyle_hunter
							random_traits = yes
							after_creation = {
								add_trait_xp = { trait = lifestyle_hunter track = hunter value = 100 }
							}
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 3 6 }
						stewardship = { 10 12 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_stewardship_3 = {}
							education_stewardship_4 = {}
						}
						trait = just
						trait = gregarious
						trait = lifestyle_hunter
						random_traits = yes
						after_creation = {
							add_trait_xp = { trait = lifestyle_hunter track = hunter value = 100 }
						}
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_chief_qadi = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 3 6 }
							stewardship = { 10 12 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_learning_3 = {}
								education_learning_4 = {}
							}
							trait = just
							trait = temperate
							trait = generous
							trait = scholar
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 3 6 }
						stewardship = { 10 12 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_learning_3 = {}
							education_learning_4 = {}
						}
						trait = just
						trait = temperate
						trait = generous
						trait = scholar
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_garuda = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 10 12 }
							prowess = { 10 12 }
							diplomacy = { 3 6 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_martial_3 = {}
								education_martial_4 = {}
							}
							trait = lifestyle_blademaster
							random_traits = yes
							after_creation = {
								add_trait_xp = { trait = lifestyle_blademaster value = 100 }
							}	
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 10 12 }
						prowess = { 10 12 }
						diplomacy = { 3 6 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_martial_3 = {}
							education_martial_4 = {}
						}
						trait = lifestyle_blademaster
						random_traits = yes
						after_creation = {
							add_trait_xp = { trait = lifestyle_blademaster value = 100 }
						}	
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_gardener = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 3 6 }
							stewardship = { 10 12 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_stewardship_3 = {}
								education_stewardship_4 = {}
							}
							trait = patient
							trait = lifestyle_herbalist
							trait = lifestyle_gardener
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 3 6 }
						stewardship = { 10 12 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_stewardship_3 = {}
							education_stewardship_4 = {}
						}
						trait = patient
						trait = lifestyle_herbalist
						trait = lifestyle_gardener
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_antiquarian = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 3 6 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 15 17 }
							random_traits_list = {
								count = 1
								education_learning_3 = {}
								education_learning_4 = {}
							}
							trait = shy
							trait = administrator
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 3 6 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 15 17 }
						random_traits_list = {
							count = 1
							education_learning_3 = {}
							education_learning_4 = {}
						}
						trait = shy
						trait = administrator
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_tutor = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 15 17 }
							stewardship = { 10 12 }
							intrigue = { 3 6 }
							learning = { 15 17 }
							random_traits_list = {
								count = 1
								education_learning_3 = {}
								education_learning_4 = {}
							}
							trait = patient
							trait = shrewd
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 15 17 }
						stewardship = { 10 12 }
						intrigue = { 3 6 }
						learning = { 15 17 }
						random_traits_list = {
							count = 1
							education_learning_3 = {}
							education_learning_4 = {}
						}
						trait = patient
						trait = shrewd
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_food_taster = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 3 6 }
							stewardship = { 3 6 }
							intrigue = { 10 12 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_intrigue_3 = {}
								education_intrigue_4 = {}
							}
							trait = gluttonous
							trait = comfort_eater
							trait = lifestyle_herbalist
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 3 6 }
						stewardship = { 3 6 }
						intrigue = { 10 12 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_intrigue_3 = {}
							education_intrigue_4 = {}
						}
						trait = gluttonous
						trait = comfort_eater
						trait = lifestyle_herbalist
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_master_of_horse = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 10 12 }
							prowess = { 10 12 }
							diplomacy = { 3 6 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_martial_3 = {}
								education_martial_4 = {}
							}
							trait = overseer
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 10 12 }
						prowess = { 10 12 }
						diplomacy = { 3 6 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_martial_3 = {}
							education_martial_4 = {}
						}
						trait = overseer
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_master_of_hunt = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 10 12 }
							prowess = { 10 12 }
							diplomacy = { 3 6 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_martial_3 = {}
								education_martial_4 = {}
							}
							trait = lifestyle_hunter
							trait = brave
							random_traits = yes
							after_creation = {
								add_trait_xp = { trait = lifestyle_hunter track = hunter value = 100 }
								add_trait_xp = { trait = lifestyle_hunter track = falconer value = 100 }
							}
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 10 12 }
						prowess = { 10 12 }
						diplomacy = { 3 6 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_martial_3 = {}
							education_martial_4 = {}
						}
						trait = lifestyle_hunter
						trait = brave
						random_traits = yes
						after_creation = {
							add_trait_xp = { trait = lifestyle_hunter track = hunter value = 100 }
							add_trait_xp = { trait = lifestyle_hunter track = falconer value = 100 }
						}
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_royal_architect = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 3 6 }
							stewardship = { 10 12 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_stewardship_3 = {}
								education_stewardship_4 = {}
							}
							trait = architect
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 3 6 }
						stewardship = { 10 12 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_stewardship_3 = {}
							education_stewardship_4 = {}
						}
						trait = architect
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_high_almoner = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 3 6 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 10 12 }
							random_traits_list = {
								count = 1
								education_learning_3 = {}
								education_learning_4 = {}
							}
							trait = compassionate
							trait = generous
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 3 6 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 10 12 }
						random_traits_list = {
							count = 1
							education_learning_3 = {}
							education_learning_4 = {}
						}
						trait = compassionate
						trait = generous
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_seneschal = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 3 6 }
							stewardship = { 10 12 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_stewardship_3 = {}
								education_stewardship_4 = {}
							}
							trait = administrator
							trait = overseer
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 3 6 }
						stewardship = { 10 12 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_stewardship_3 = {}
							education_stewardship_4 = {}
						}
						trait = administrator
						trait = overseer
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_cupbearer = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 10 12 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_diplomacy_3 = {}
								education_diplomacy_4 = {}
							}
							trait = honest
							trait = trusting
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 10 12 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_diplomacy_3 = {}
							education_diplomacy_4 = {}
						}
						trait = honest
						trait = trusting
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_jester = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 10 12 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_diplomacy_3 = {}
								education_diplomacy_4 = {}
							}
							trait = gregarious
							trait = stubborn
							trait = shrewd
							trait = poet
							trait = athletic
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 10 12 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_diplomacy_3 = {}
							education_diplomacy_4 = {}
						}
						trait = gregarious
						trait = stubborn
						trait = shrewd
						trait = poet
						trait = athletic
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_poet = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 10 12 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 10 12 }
							random_traits_list = {
								count = 1
								education_diplomacy_3 = {}
								education_diplomacy_4 = {}
							}
							trait = gregarious
							trait = poet
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 10 12 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 10 12 }
						random_traits_list = {
							count = 1
							education_diplomacy_3 = {}
							education_diplomacy_4 = {}
						}
						trait = gregarious
						trait = poet
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_musician = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 3 6 }
							diplomacy = { 10 12 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 10 12 }
							random_traits_list = {
								count = 1
								education_diplomacy_3 = {}
								education_diplomacy_4 = {}
							}
							trait = gregarious
							trait = poet
							random_traits = yes
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 3 6 }
						diplomacy = { 10 12 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 10 12 }
						random_traits_list = {
							count = 1
							education_diplomacy_3 = {}
							education_diplomacy_4 = {}
						}
						trait = gregarious
						trait = poet
						random_traits = yes
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_bodyguard = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 10 12 }
							diplomacy = { 3 6 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_martial_3 = {}
								education_martial_4 = {}
							}
							trait = shieldmaiden
							trait = lifestyle_blademaster
							trait = gallant
							trait = brave
							trait = paranoid
							
							
							random_traits = yes
							
							after_creation = {
								add_trait_xp = { trait = lifestyle_blademaster value = 100 }
							}
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 10 12 }
						diplomacy = { 3 6 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_martial_3 = {}
							education_martial_4 = {}
						}
						trait = shieldmaiden
						trait = lifestyle_blademaster
						trait = gallant
						trait = brave
						trait = paranoid
						
						
						random_traits = yes
						
						after_creation = {
							add_trait_xp = { trait = lifestyle_blademaster value = 100 }
						}
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_champion = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 10 12 }
							diplomacy = { 3 6 }
							stewardship = { 3 6 }
							intrigue = { 3 6 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_martial_3 = {}
								education_martial_4 = {}
							}
							trait = shieldmaiden
							trait = lifestyle_blademaster
							trait = gallant
							trait = brave
							trait = paranoid
							
							
							random_traits = yes
							after_creation = {
								add_trait_xp = { trait = lifestyle_blademaster value = 100 }
							}
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 10 12 }
						diplomacy = { 3 6 }
						stewardship = { 3 6 }
						intrigue = { 3 6 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_martial_3 = {}
							education_martial_4 = {}
						}
						trait = shieldmaiden
						trait = lifestyle_blademaster
						trait = gallant
						trait = brave
						trait = paranoid
						
						
						random_traits = yes
						after_creation = {
							add_trait_xp = { trait = lifestyle_blademaster value = 100 }
						}
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_executioner = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 3 6 }
							prowess = { 10 12 }
							diplomacy = { 3 6 }
							stewardship = { 3 6 }
							intrigue = { 10 12 }
							learning = { 3 6 }
							random_traits_list = {
								count = 1
								education_intrigue_3 = {}
								education_intrigue_4 = {}
							}
							trait = torturer
							trait = sadistic
							
							
							random_traits = yes
							
							after_creation = {
								root = {
									add_hook_no_toast = { type = loyalty_hook target = prev}
								}
							}
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 3 6 }
						prowess = { 10 12 }
						diplomacy = { 3 6 }
						stewardship = { 3 6 }
						intrigue = { 10 12 }
						learning = { 3 6 }
						random_traits_list = {
							count = 1
							education_intrigue_3 = {}
							education_intrigue_4 = {}
						}
						trait = torturer
						trait = sadistic
						
						
						random_traits = yes
						
						after_creation = {
							root = {
								add_hook_no_toast = { type = loyalty_hook target = prev}
							}
						}
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}

DI_court_artificer = {
	scope = character
	
	effect = {
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}

			set_global_variable = {
				name = gender_var
				value = 100
			}
		}
		else = {
			set_global_variable = {
				name = gender_var
				value = 0
			}
		}
		if = {
			limit = {
				has_variable = DI_char_spawner_female
			}
			set_global_variable = DI_char_spawner_female
		}
		else = {
			remove_global_variable = DI_char_spawner_female
		}
		
		set_global_variable = {
			name = age_var
			value = var:DI_char_spawner_age_increment_value
		}

		set_global_variable = {
			name = count_var
			value = var:DI_char_spawner_count_increment_value
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_immortal
			}
			set_global_variable = DI_char_spawner_immortal
		}
		else = {
			remove_global_variable = DI_char_spawner_immortal
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_100_stat_man
			}
			set_global_variable = DI_char_spawner_100_stat_man
		}
		else = {
			remove_global_variable = DI_char_spawner_100_stat_man
		}

		if = {
			limit = {
				has_variable = DI_char_spawner_good_traits
			}
			set_global_variable = DI_char_spawner_good_traits
		}
		else = {
			remove_global_variable = DI_char_spawner_good_traits
		}
		
		while = { count = var:DI_char_spawner_count_increment_value
			if = {
				limit = {
					has_variable = DI_marked_char_var
				}
				
				every_living_character = {
					limit = { has_character_flag = marked_for_edit }
					
					hidden_effect = {
						save_scope_as = target

						create_character = {
							age = global_var:age_var
							gender_female_chance = global_var:gender_var
							health = 5
							fertility = 0.5
							employer = scope:target
							faith = scope:target.faith
							culture = scope:target.culture
							dynasty = none
							martial = { 15 17 }
							prowess = { 15 17 }
							diplomacy = { 15 17 }
							stewardship = { 15 17 }
							intrigue = { 15 17 }
							learning = { 15 17 }
							random_traits_list = {
								count = 1
								education_stewardship_3 = {}
								education_stewardship_4 = {}
							}
							
							
							random_traits = yes
							after_creation = {
								create_inspiration = { type = weapon_inspiration }
							}
							save_scope_as = new_courtier
						}
						scope:target = {
							if = {
								limit = {
									has_global_variable = DI_char_spawner_immortal
								}
								scope:new_courtier = {
									add_trait = immortal
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_100_stat_man
								}
								scope:new_courtier = {
									add_trait = 100_stat_man
								}
							}
							if = {
								limit = {
									has_global_variable = DI_char_spawner_good_traits
								}
								scope:new_courtier = {
									add_trait = loyal
									add_trait = beauty_good_3
									add_trait = intellect_good_3
									add_trait = physique_good_3
								}
							}
						}
					}
				}
			}
			else = {
				hidden_effect = {
					save_scope_as = target
				
					create_character = {
						age = global_var:age_var
						gender_female_chance = global_var:gender_var
						health = 5
						fertility = 0.5
						employer = scope:target
						faith = scope:target.faith
						culture = scope:target.culture
						dynasty = none
						martial = { 15 17 }
						prowess = { 15 17 }
						diplomacy = { 15 17 }
						stewardship = { 15 17 }
						intrigue = { 15 17 }
						learning = { 15 17 }
						random_traits_list = {
							count = 1
							education_stewardship_3 = {}
							education_stewardship_4 = {}
						}
						
						
						random_traits = yes
						after_creation = {
							create_inspiration = { type = weapon_inspiration }
						}
						save_scope_as = new_courtier
					}
					scope:target = {
						if = {
							limit = {
								has_global_variable = DI_char_spawner_immortal
							}
							scope:new_courtier = {
								add_trait = immortal
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_100_stat_man
							}
							scope:new_courtier = {
								add_trait = 100_stat_man
							}
						}
						if = {
							limit = {
								has_global_variable = DI_char_spawner_good_traits
							}
							scope:new_courtier = {
								add_trait = loyal
								add_trait = beauty_good_3
								add_trait = intellect_good_3
								add_trait = physique_good_3
							}
						}
					}
				}
			}
		}
	}
}